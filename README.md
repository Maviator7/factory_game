# 自動車工場シミュレーション

自動車の製造ラインを構築・管理するブラウザベースのシミュレーションゲームです。機械を配置し、パーツを製造して完成車を作り上げましょう！

## 🎮 ゲーム概要

- **目標**: 効率的な生産ラインを構築して自動車を製造し、利益を上げる
- **特徴**: 機械のレベルアップ、自動接続システム、リアルタイム生産管理
- **プラットフォーム**: Web ブラウザ（HTML5 Canvas 使用）

## 📁 プロジェクト構造

```
factory-game/
├── index.html          # メインHTMLファイル
├── css/
│   └── style.css       # スタイルシート
├── js/
│   ├── main.js         # メインゲームループと初期化
│   ├── machine.js      # 機械定義と処理ロジック
│   ├── item.js         # アイテム処理
│   └── ui.js           # UI処理と描画
└── README.md           # このファイル
```

## 🛠️ ファイル詳細

### `index.html`

- ゲームの HTML マークアップ
- サイドバーの UI 要素定義
- JavaScript ファイルの読み込み

### `css/style.css`

- レスポンシブデザイン対応
- ボタン、統計表示、在庫表示のスタイル
- メディアクエリによるモバイル対応

### `js/main.js`

- ゲームの初期化処理
- メインゲームループ
- エラーハンドリング
- デバッグ機能

### `js/machine.js`

- 機械タイプの定義
- 機械の処理ロジック
- 自動接続システム
- レベルアップ機能

### `js/item.js`

- アイテムの作成と移動
- アイテムの描画
- 色と絵文字の定義

### `js/ui.js`

- ユーザーインターフェース処理
- キャンバスイベントハンドリング
- 機械とポートの描画
- 統計表示の更新

## 🎯 ゲームの遊び方

### 基本操作

1. **機械配置**: サイドバーから機械を選択 → キャンバス上でクリック
2. **機械回転**: 配置済み機械を右クリック
3. **機械削除**: 削除モード → 機械をクリック
4. **レベルアップ**: ⭐ モード → 機械をクリック（¥100,000 必要）

### 生産の流れ

1. **原材料供給** → 各種プレス機 → **溶接機** → **塗装機**（シートのみ）
2. パーツ製造機（タイヤ、エンジン、ボディ、シート）
3. **部品組立** → **最終組立** → **検査** → 完成車

### 機械の種類

#### 🔧 基本機械

- **📦 原材料供給**: 材料を生成（材料コスト必要）
- **🟰 コンベア**: アイテムを運搬
- **📦 部品格納ボックス**: 部品を在庫として保管

#### ⚙️ 加工機械

- **🔨 プレス機**: 原材料をプレス
- **⚡ 溶接機**: プレス済み材料を溶接
- **🎨 塗装機**: 溶接済み材料を塗装

#### 🚗 パーツ製造

- **🛞 タイヤ製造**: 車 1 台に 4 個必要
- **🔧 エンジン製造**: 車 1 台に 1 個必要
- **🚗 ボディ製造**: 車 1 台に 1 個必要
- **🪑 シート製造**: 車 1 台に 4 個必要

#### 🏭 組立・検査

- **🔩 部品組立**: 必要パーツを組み合わせ
- **🏭 最終組立**: 組立品を完成車に
- **🔍 検査機**: 品質チェック（売上 ¥250,000）

## ⭐ レベルアップシステム

- **コスト**: ¥100,000
- **効果**: 処理速度が 50%向上
- **視覚変化**: 金色の縁取りとレベル表示

## 🎨 デザイン要素

### ポートシステム

- **🔵 青色**: 入力ポート（材料が入る）
- **🔴 赤色**: 出力ポート（製品が出る）
- **自動接続**: 隣接するポート同士が自動的に接続

### アニメーション

- 処理中の機械：脈動とスパーク効果
- レベルアップ：金色パーティクル
- アイテム移動：スムーズな軌道と回転

## 🚀 セットアップ

1. すべてのファイルを同じフォルダに配置
2. Web サーバーで起動（ローカルファイルでも動作）
3. `index.html`をブラウザで開く

## 🛠️ 開発環境セットアップ

このプロジェクトは ESLint によるコードチェックや自動整形が可能です。  
開発時は以下の手順でセットアップしてください。

### 必要な環境

- Node.js v18 以上推奨
- npm v8 以上

### セットアップ手順

1. 依存パッケージのインストール  
   プロジェクトルートで以下を実行します。

   ```sh
   npm install
   ```

2. ESLint によるコードチェック  
   コードの静的解析や自動整形ができます。

   ```sh
   npx eslint js/
   ```

   自動修正したい場合は

   ```sh
   npx eslint js/ --fix
   ```

## 🔧 開発者向け機能

ブラウザのコンソールで以下のコマンドが使用可能：

```javascript
// デバッグ情報表示
factoryGame.getDebugInfo();

// お金を追加
factoryGame.addMoney(1000000);

// 原材料を追加
factoryGame.addMaterials(500);

// ゲームリセット
factoryGame.clearAll();

// 生産開始/停止
factoryGame.toggleProduction();

// FPS表示
factoryGame.getFPS();
```

## 🎯 攻略のコツ

1. **原材料確保**: 常に十分な材料を確保
2. **ボトルネック解消**: 処理の遅い機械を優先的にレベルアップ
3. **並列生産**: 複数の生産ラインで効率向上
4. **在庫管理**: 格納ボックスで部品を蓄積

## 🔄 拡張可能性

- 新しい機械タイプの追加
- より複雑な製品の実装
- 研究開発システム
- マルチプレイヤー機能

## 📱 対応ブラウザ

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## 📄 ライセンス

MIT License - 自由に改変・配布可能
